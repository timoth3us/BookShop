<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bookshop</title>
    <!-- Import Styles -->
    <link rel="stylesheet" href="./assets/styles.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Import Vue.js -->
    <script src="https://unpkg.com/vue@next"></script>
  
  </head>
  <body>
    
    <div id="app">

        <nav class="nav">
            <div class="site-logo">
                <img v-bind:src="siteLogo" class="img-fluid">
            </div>
            <div class="search-wrapper">
                <input type="text" name="search" class="form-control fs-6" placeholder="Search..." aria-label="Search" v-model="search">
            </div>
            <div class="nav-cart">
                <button @click="showCart = !showCart" class="btn-cart">
                    <i class="bi bi-cart-fill fs-3"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary ">
                        {{ totalQuantity }}
                    </span>
                </button>
                <div v-if="showCart" class="cart-dropdown">
                  	<ul class="cart-dropdown-list">
                    	<li v-if="cart.length == 0">Keine Artikel im Warenkorb!</li>
                   		<li v-for="book in cart" :key="book.id"> {{ book.title }} ({{ book.quantity }})</li>
                  	</ul>
                  	<div class="d-flex align-items-center flex-column">
                     	<p>Total: {{ total }} €</p>
                     	<button v-if="cart.length !== 0" class="btn btn-outline-primary"><a href='./stripe/stripe_redirect.php?live=0&bookId=1'> Checkout </a></button>
                  	</div>
                </div>
            </div>
        </nav>
        
        <div class="intro-text"> 
            <h1>Unsere Bücher Selektion</h1>
            <p>Aus langjähriger Erfahrung bieten wir eine eine handverlesene Auswahl der Creme de la Creme der Literaturwelt. Alle Werke werden erst nach gründlicher Analyse und anschließender Bewertung unseres Fachteams in die Sammlung aufgenommen. So finden sie immer das richtige Buch und müssen sich dennoch nicht allein durch den schieren Urwald der Bücher dieser Welt kämpfen.</p>
        </div>
        
        <section class="products d-grid gap-3">
            <div  v-for="book in filteredList" :key="book.id" class="product-display border border-1 rounded">
                <div class="product-image">
                    <img src="https://placekitten.com/300/300">
                </div>
                <div>
                    <h1>{{ book.title }}</h1>
                    <h2>{{ book.author }}</h2>
                    <p v-if="book.stock > 5">In Stock</p>
                    <p v-else-if="book.stock <= 5 && book.stock > 0">Almost sold out</p>
                    <p v-else>Out of Stock</p>
                    <button @click="updateCart(book, 'add')" class="btn btn-outline-primary">+</button>
                    <button @click="updateCart(book, 'subtract')" class="btn btn-outline-primary">-</button>
                    <p>{{ book.price }} €</p>
                </div>
            </div>
        </section>

    </div>
    
   

    <!-- Import App -->
    <script src="./main.js"></script>

    <!-- Mount App -->
    <script>
      const mountedApp = app.mount('#app')
    </script>

  </body>
</html>
